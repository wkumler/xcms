<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Accessing mz-rt feature data values — quantify,XCMSnExp-method • xcms</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Accessing mz-rt feature data values — quantify,XCMSnExp-method" />
<meta property="og:description" content="featureValues,XCMSnExp : extract a matrix for
feature values with rows representing features and columns samples.
Parameter value allows to define which column from the
chromPeaks matrix should be returned. Multiple
chromatographic peaks from the same sample can be assigned to a feature.
Parameter method allows to specify the method to be used in such
cases to chose from which of the peaks the value should be returned.
Parameter `msLevel` allows to choose a specific MS level for which feature
values should be returned (given that features have been defined for that MS
level).
quantify,XCMSnExp: return the preprocessing results as an
SummarizedExperiment object containing the feature abundances
as assay matrix, the feature definitions (returned by
featureDefinitions) as rowData and the phenotype
information as colData. This is an ideal container for further
processing of the data. Internally, the featureValues method
is used to extract the feature abundances, parameters for that method can
be passed to quantify with ...." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xcms</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/xcms.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/new_functionality.html">New and modified functionality in xcms</a>
    </li>
    <li>
      <a href="../articles/xcms-direct-injection.html">Grouping FTICR-MS data with xcms</a>
    </li>
    <li>
      <a href="../articles/xcms-lcms-ms.html">LC-MS/MS data analysis with xcms</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sneumann/xcms/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Accessing mz-rt feature data values</h1>
    <small class="dont-index">Source: <a href='https://github.com/sneumann/xcms/blob/master/R/methods-XCMSnExp.R'><code>R/methods-XCMSnExp.R</code></a></small>
    <div class="hidden name"><code>XCMSnExp-peak-grouping-results.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>featureValues,XCMSnExp</code> : extract a <code>matrix</code> for
feature values with rows representing features and columns samples.
Parameter <code>value</code> allows to define which column from the
<code><a href='XCMSnExp-class.html'>chromPeaks</a></code> matrix should be returned. Multiple
chromatographic peaks from the same sample can be assigned to a feature.
Parameter <code>method</code> allows to specify the method to be used in such
cases to chose from which of the peaks the value should be returned.
Parameter `msLevel` allows to choose a specific MS level for which feature
values should be returned (given that features have been defined for that MS
level).</p>
<p><code>quantify,XCMSnExp</code>: return the preprocessing results as an
<code>SummarizedExperiment</code> object containing the feature abundances
as assay matrix, the feature definitions (returned by
<code><a href='XCMSnExp-class.html'>featureDefinitions</a></code>) as <code>rowData</code> and the phenotype
information as <code>colData</code>. This is an ideal container for further
processing of the data. Internally, the <code>featureValues</code> method
is used to extract the feature abundances, parameters for that method can
be passed to <code>quantify</code> with <code>...</code>.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for XCMSnExp</span>
<span class='fu'>quantify</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S4 method for XCMSnExp</span>
<span class='fu'>featureValues</span>(
  <span class='no'>object</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"medret"</span>, <span class='st'>"maxint"</span>, <span class='st'>"sum"</span>),
  <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"into"</span>,
  <span class='kw'>intensity</span> <span class='kw'>=</span> <span class='st'>"into"</span>,
  <span class='kw'>filled</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>missing</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>msLevel</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>20</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>A <code><a href='XCMSnExp-class.html'>XCMSnExp</a></code> object providing the feature
definitions.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For <code>quantify</code>: additional parameters to be passed on to the
<code>featureValues</code> method.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p><code>character</code> specifying the method to resolve
multi-peak mappings within the same sample, i.e. to define the
<em>representative</em> peak for a feature in samples where more than
one peak was assigned to the feature. If <code>"medret"</code>: select the
peak closest to the median retention time of the feature.
If <code>"maxint"</code>: select the peak yielding the largest signal. If
<code>"sum"</code>: sum the values (only if <code>value</code> is <code>"into"</code> or
<code>"maxo"</code>.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p><code>character</code> specifying the name of the column in
<code><a href='XCMSnExp-class.html'>chromPeaks(object)</a></code> that should be returned. Defaults to
<code>"into"</code> in which case the integrated peak area is returned. To
get the index of the peak in the <code><a href='XCMSnExp-class.html'>chromPeaks(object)</a></code> matrix use
<code>"index"</code>.</p></td>
    </tr>
    <tr>
      <th>intensity</th>
      <td><p><code>character</code> specifying the name of the column in the
<code><a href='XCMSnExp-class.html'>chromPeaks(objects)</a></code> matrix containing the intensity value of the
peak that should be used for the conflict resolution if
<code>method = "maxint"</code>.</p></td>
    </tr>
    <tr>
      <th>filled</th>
      <td><p><code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code> specifying whether values for filled-in
peaks should be returned or not. If <code>filled = FALSE</code>, an <code>NA</code>
is returned in the matrix for the respective peak. See
<code><a href='fillChromPeaks.html'>fillChromPeaks</a></code> for details on peak filling.</p></td>
    </tr>
    <tr>
      <th>missing</th>
      <td><p>how missing values should be reported. Allowed values are
<code>NA</code> (the default), a <code>numeric</code> or
<code>missing = "rowmin_half"</code>. The latter replaces any <code>NA</code> with
half of the row's minimal (non-missing) value.</p></td>
    </tr>
    <tr>
      <th>msLevel</th>
      <td><p>for `featureValues`: `integer` defining the MS level(s) for
which feature values should be returned. By default, values for features
defined for all MS levels are returned.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>featureValues</code>: a <code>matrix</code> with
feature values, columns representing samples, rows features. The order
of the features matches the order found in the
<code><a href='XCMSnExp-class.html'>featureDefinitions(object)</a></code> <code>DataFrame</code>. The rownames of the
<code>matrix</code> are the same than those of the <code>featureDefinitions</code>
<code>DataFrame</code>. <code>NA</code> is reported for features without
corresponding chromatographic peak in the respective sample(s).</p>
<p>For <code>quantify</code>: a <code>SummarizedExperiment</code> representing
the preprocessing results.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This method is equivalent to the <code><a href='groupval-methods.html'>groupval</a></code> for
<code>xcmsSet</code> objects. Note that <code>missing = 0</code> should be used to
get the same behaviour as <code>groupval</code>, i.e. report missing values as 0
after a call to <code>fillPeaks</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='XCMSnExp-class.html'>XCMSnExp</a></code> for information on the data object.</p>
<p><code><a href='XCMSnExp-class.html'>featureDefinitions</a></code> to extract the <code>DataFrame</code> with the
feature definitions.</p>
<p><code><a href='featureChromatograms.html'>featureChromatograms</a></code> to extract ion chromatograms for each
feature.</p>
<p><code><a href='XCMSnExp-class.html'>hasFeatures</a></code> to evaluate whether the
<code><a href='XCMSnExp-class.html'>XCMSnExp</a></code> provides feature definitions.</p>
<p><code><a href='groupval-methods.html'>groupval</a></code> for the equivalent method on <code>xcmsSet</code> objects.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steffen Neumann.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


